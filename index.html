<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PARTY WITH TRAV: A Nightwalker Event</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font --><link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Custom font utility */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF; /* White background */
            color: #4A2E0F; /* Dark Brown text */
        }

        /* Dark Brown for main text/elements */
        .dark-brown-text {
            color: #4A2E0F;
        }

        /* Muted Lime Green Accent */
        .lime-accent {
            color: #8BC34A; /* Muted lime green */
        }
        .lime-border {
            border-color: #8BC34A;
        }
        .lime-bg {
            background-color: #8BC34A;
        }

        /* Custom scrollbar for aesthetic */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #FFFFFF;
        }

        ::-webkit-scrollbar-thumb {
            background: #8BC34A; /* Muted lime green scrollbar */
            border-radius: 4px;
        }

        /* Nightwalker Logo SVG styles */
        .nightwalker-logo-svg {
            fill: #4A2E0F; /* Dark brown fill for the logo */
            transition: fill 0.3s ease;
        }
        .nightwalker-logo-svg:hover {
            fill: #8BC34A; /* Muted lime green on hover */
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 overflow-x-hidden">

    <!-- Card uses white background, with dark brown border and lime accents --><div class="relative max-w-4xl w-full mx-auto p-6 md:p-12 border-4 border-dark-brown-text bg-white shadow-xl rounded-lg transition-all duration-500 hover:shadow-lime-300/30">

        <!-- Header/Theme --><header class="text-center mb-10">
            <p class="text-lg md:text-xl tracking-widest uppercase mb-2 dark-brown-text">
                <!-- Nightwalker Logo - Custom SVG --><span class="inline-block align-middle mr-2">
                    <svg class="nightwalker-logo-svg" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4ZM10 7L10 17L17 12L10 7ZM12 9C12.5523 9 13 9.44772 13 10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10C11 9.44772 11.4477 9 12 9ZM12 13C12.5523 13 13 13.4477 13 14C13 14.5523 12.5523 15 12 15C11.4477 15 11 14.5523 11 14C11 13.4477 11.4477 13 12 13Z"/>
                    </svg>
                </span>
                NIGHTWALKER PRESENTS</p>
            <!-- Changed to lime-accent and dark brown for main title --><h1 class="text-6xl md:text-8xl font-black tracking-tighter uppercase leading-none lime-accent dark-brown-text">
                Party with Trav
            </h1>
            <!-- Changed to "Cactus Family Affair" and dark brown --><p class="text-2xl md:text-4xl mt-3 font-extrabold dark-brown-text">CACTUS FAMILY AFFAIR</p>
        </header>

        <!-- Key Information Block --><section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10 text-center">
            <!-- White background with dark brown border --><div class="p-4 bg-white rounded-lg border-2 border-dark-brown-text">
                <p class="text-sm uppercase tracking-wider dark-brown-text">Date of Descent</p>
                <p class="text-3xl font-bold mt-1 dark-brown-text">22 NOVEMBER</p>
            </div>
            <!-- Location box - "To Be Announced" with dark brown border --><div class="p-4 bg-white rounded-lg border-2 border-dark-brown-text col-span-1 md:col-span-2">
                <p class="text-sm uppercase tracking-wider dark-brown-text">Location</p>
                <p class="text-3xl font-bold mt-1 dark-brown-text">LOCATION TO BE ANNOUNCED</p>
            </div>
        </section>

        <!-- Countdown Timer --><section class="mb-12 text-center">
            <!-- Title is now dark brown --><h2 class="text-2xl md:text-3xl uppercase tracking-wider mb-4 font-semibold dark-brown-text">Time Until Chaos</h2>
            <div id="countdown" class="flex justify-center space-x-2 md:space-x-4">
                <!-- Countdown elements will be populated here --></div>
        </section>

        <!-- CTA and Details --><section class="text-center">
            <p class="text-xl md:text-2xl mb-6 font-medium dark-brown-text">
                Phase 2 details will be dropped soon. Prepare for the riot.
            </p>
            <!-- UPDATED: Changed button to <a> tag and added href to invite.html -->
            <a href="invite.html" 
                class="inline-block w-full md:w-auto px-10 py-4 text-2xl font-black uppercase tracking-widest rounded-lg transition duration-300 ease-in-out
                       lime-bg dark-brown-text border-4 border-lime-accent
                       hover:bg-dark-brown-text hover:text-lime-accent focus:outline-none shadow-lg shadow-lime-500/30">
                ENTER THE PORTAL
            </a>
            <!-- Removed the old 'signup-message' paragraph as it is no longer needed. -->
        </section>

        <!-- Footer/Nightwalker Logo Placeholder --><footer class="mt-12 text-center text-xs uppercase tracking-widest text-gray-500">
            A <span class="lime-accent">NIGHTWALKER</span> PRODUCTION
        </footer>

    </div>

    <script>
        // Use a function to convert base64 audio data to ArrayBuffer
        function base64ToArrayBuffer(base64) {
            const binaryString = atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        }

        // Function to convert PCM data to WAV Blob (as required by the TTS API)
        function pcmToWav(pcm16, sampleRate) {
            const numChannels = 1;
            const bytesPerSample = 2;
            const blockAlign = numChannels * bytesPerSample;
            const byteRate = sampleRate * blockAlign;
            const dataSize = pcm16.length * bytesPerSample;
            const buffer = new ArrayBuffer(44 + dataSize);
            const view = new DataView(buffer);

            /* RIFF identifier */
            writeString(view, 0, 'RIFF');
            /* file length */
            view.setUint32(4, 36 + dataSize, true);
            /* RIFF type */
            writeString(view, 8, 'WAVE');
            /* format chunk identifier */
            writeString(view, 12, 'fmt ');
            /* format chunk length */
            view.setUint32(16, 16, true);
            /* sample format (1 for PCM) */
            view.setUint16(20, 1, true);
            /* channel count */
            view.setUint16(22, numChannels, true);
            /* sample rate */
            view.setUint32(24, sampleRate, true);
            /* byte rate (sample rate * block align) */
            view.setUint32(28, byteRate, true);
            /* block align (channel count * bytes per sample) */
            view.setUint16(32, blockAlign, true);
            /* bits per sample */
            view.setUint16(34, 16, true);
            /* data chunk identifier */
            writeString(view, 36, 'data');
            /* data chunk length */
            view.setUint32(40, dataSize, true);

            // Write the PCM data
            let offset = 44;
            for (let i = 0; i < pcm16.length; i++, offset += 2) {
                view.setInt16(offset, pcm16[i], true);
            }

            return new Blob([view], { type: 'audio/wav' });
        }

        function writeString(view, offset, string) {
            for (let i = 0; i < string.length; i++) {
                view.setUint8(offset + i, string.charCodeAt(i));
            }
        }

        // --- COUNTDOWN TIMER LOGIC ---
        function updateCountdown() {
            // Target date: November 22nd, 8 PM (20:00:00) of the current year (2025)
            const targetDate = new Date("November 22, 2025 20:00:00").getTime();
            const now = new Date().getTime();
            const distance = targetDate - now;

            const countdownEl = document.getElementById('countdown');

            // Check if the event has passed
            if (distance < 0) {
                countdownEl.innerHTML = `
                    <p class="text-3xl md:text-5xl font-black uppercase lime-accent">
                        The Riot Has Begun
                    </p>
                `;
                clearInterval(interval);
                return;
            }

            // Time calculations for days, hours, minutes and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            const formatUnit = (value, label) => `
                <div class="flex flex-col items-center p-3 bg-white rounded-lg shadow-inner border border-dark-brown-text min-w-[70px] md:min-w-[90px]">
                    <!-- Countdown numbers use the muted lime-accent --><span class="text-4xl md:text-5xl font-black lime-accent leading-none">${String(value).padStart(2, '0')}</span>
                    <span class="text-sm uppercase tracking-wider mt-1 dark-brown-text">${label}</span>
                </div>
            `;

            countdownEl.innerHTML = `
                ${formatUnit(days, 'Days')}
                ${formatUnit(hours, 'Hours')}
                ${formatUnit(minutes, 'Minutes')}
                ${formatUnit(seconds, 'Seconds')}
            `;
        }

        // Update the countdown every 1 second
        let interval = setInterval(updateCountdown, 1000);

        // Initial call to display the countdown immediately
        updateCountdown();
    </script>
</body>
</html>
